import matplotlib.pyplot as plt
import numpy as np

if __name__ == '__main__':

    org_max_lkl_amr_only = [
               [
                    0.27102803738317754,
                    0.30493273542600896,
                    0.2805429864253394,
                    0.2711864406779661,
                    0.24669603524229075,
                    0.27230046948356806,
                    0.325,
                    0.23008849557522124,
                    0.3559322033898305,
                    0.24271844660194172,
                    0.30973451327433627,
                    0.2621359223300971,
                    0.3214285714285714,
                    0.2980769230769231,
                    0.27272727272727276,
                    0.27230046948356806,
                    0.25925925925925924,
                    0.2048780487804878,
                    0.3024390243902439,
                    0.33636363636363636,
                    0.31249999999999994,
                    0.3175965665236052,
                    0.31050228310502287,
                    0.2803738317757009,
                    0.21319796954314724
               ],
               [
                    0.28571428571428575,
                    0.3333333333333333,
                    0.5,
                    0.30769230769230765,
                    0.4615384615384615,
                    0.0,
                    0.3333333333333333,
                    0.5454545454545454,
                    0.16666666666666666,
                    0.5,
                    0.5,
                    0.4,
                    0.3636363636363636,
                    0.15384615384615383,
                    0.4,
                    0.18181818181818182,
                    0.375,
                    0.0,
                    0.4,
                    0.3333333333333333,
                    0.6,
                    0.2857142857142857,
                    0.15384615384615385,
                    0.2,
                    0.28571428571428575
               ],
               [
                    0.4,
                    0.3333333333333333,
                    0.0,
                    0.0,
                    0.3333333333333333,
                    0.0,
                    0.28571428571428575,
                    0.5,
                    0.5,
                    0.2,
                    0.5,
                    0.0,
                    0.5,
                    0.5,
                    0.3333333333333333,
                    0.6666666666666666,
                    0.6666666666666666,
                    0.5,
                    0.0,
                    0.3333333333333333,
                    0.0,
                    0.4,
                    0.5,
                    0.5714285714285715,
                    0.0
               ],
               [
                    0.27586206896551724,
                    0.26666666666666666,
                    0.3243243243243243,
                    0.3636363636363636,
                    0.39999999999999997,
                    0.39999999999999997,
                    0.28571428571428575,
                    0.2580645161290323,
                    0.29629629629629634,
                    0.26666666666666666,
                    0.3225806451612903,
                    0.35897435897435903,
                    0.3076923076923077,
                    0.3846153846153846,
                    0.375,
                    0.37500000000000006,
                    0.21428571428571427,
                    0.3157894736842105,
                    0.14285714285714285,
                    0.4117647058823529,
                    0.4000000000000001,
                    0.45161290322580644,
                    0.24242424242424243,
                    0.3225806451612903,
                    0.20689655172413793
               ],
               [
                    0.40304182509505704,
                    0.39215686274509803,
                    0.3620689655172414,
                    0.3185840707964602,
                    0.3474576271186441,
                    0.32478632478632474,
                    0.4163568773234201,
                    0.34024896265560167,
                    0.4067796610169491,
                    0.3445378151260505,
                    0.28846153846153844,
                    0.43165467625899284,
                    0.3896103896103896,
                    0.4052863436123348,
                    0.3854545454545455,
                    0.4142857142857143,
                    0.3876651982378855,
                    0.3466666666666666,
                    0.35983263598326354,
                    0.3418803418803419,
                    0.3781512605042017,
                    0.3802281368821293,
                    0.3562753036437247,
                    0.37722419928825623,
                    0.3574468085106383
               ],
               [
                    0.0,
                    0.2222222222222222,
                    0.0,
                    0.16666666666666669,
                    0.0,
                    0.19999999999999998,
                    0.0,
                    0.0,
                    0.18181818181818182,
                    0.0,
                    0.33333333333333337,
                    0.2222222222222222,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.2857142857142857,
                    0.0,
                    0.25,
                    0.0,
                    0.2222222222222222,
                    0.0,
                    0.0,
                    0.2857142857142857,
                    0.4
               ],
               [
                    0.34782608695652173,
                    0.5,
                    0.37500000000000006,
                    0.3157894736842105,
                    0.5142857142857143,
                    0.38095238095238093,
                    0.4285714285714285,
                    0.30769230769230765,
                    0.5384615384615384,
                    0.32,
                    0.48,
                    0.3333333333333333,
                    0.3703703703703704,
                    0.47058823529411764,
                    0.32,
                    0.39999999999999997,
                    0.36363636363636365,
                    0.33333333333333326,
                    0.45454545454545453,
                    0.4,
                    0.4166666666666667,
                    0.47619047619047616,
                    0.4545454545454546,
                    0.2962962962962963,
                    0.3846153846153846
               ],
               [
                    0.2681992337164751,
                    0.29577464788732394,
                    0.3247863247863248,
                    0.31932773109243695,
                    0.28571428571428575,
                    0.3524904214559387,
                    0.3274021352313167,
                    0.26334519572953735,
                    0.3407407407407408,
                    0.3142857142857143,
                    0.24786324786324784,
                    0.3472222222222222,
                    0.2962962962962963,
                    0.2692307692307693,
                    0.3007518796992481,
                    0.2775510204081633,
                    0.27199999999999996,
                    0.25384615384615383,
                    0.28115015974440893,
                    0.24561403508771934,
                    0.312267657992565,
                    0.2936507936507936,
                    0.3368421052631579,
                    0.27433628318584075,
                    0.2909090909090909
               ],
               [
                    0.42857142857142855,
                    0.3913043478260869,
                    0.42857142857142855,
                    0.48148148148148145,
                    0.43243243243243246,
                    0.5217391304347826,
                    0.5454545454545454,
                    0.4313725490196078,
                    0.3555555555555555,
                    0.5098039215686274,
                    0.4545454545454546,
                    0.3684210526315789,
                    0.5641025641025641,
                    0.4390243902439024,
                    0.45,
                    0.27027027027027023,
                    0.5581395348837209,
                    0.5098039215686274,
                    0.39215686274509803,
                    0.39024390243902435,
                    0.3125,
                    0.4090909090909091,
                    0.5555555555555555,
                    0.5909090909090909,
                    0.5306122448979592
               ],
               [
                    0.2954545454545454,
                    0.3354037267080745,
                    0.32098765432098764,
                    0.31506849315068497,
                    0.273972602739726,
                    0.41618497109826585,
                    0.29347826086956524,
                    0.3235294117647059,
                    0.2517482517482518,
                    0.39436619718309857,
                    0.30088495575221236,
                    0.21965317919075145,
                    0.3859649122807018,
                    0.3354037267080745,
                    0.30769230769230765,
                    0.3292682926829268,
                    0.30769230769230765,
                    0.2804878048780488,
                    0.2822085889570552,
                    0.23391812865497075,
                    0.27941176470588236,
                    0.36257309941520466,
                    0.34730538922155685,
                    0.3411764705882353,
                    0.25000000000000006
               ],
               [
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    0.0,
                    1.0,
                    0.0,
                    1.0,
                    0.0,
                    1.0,
                    1.0,
                    0.8,
                    0.0,
                    0.0,
                    1.0,
                    1.0,
                    0.0,
                    0.0,
                    1.0,
                    1.0,
                    0.0,
                    1.0,
                    0.0,
                    0.0,
                    1.0
               ]
          ]

    org_max_lkl_amr_only = np.array(org_max_lkl_amr_only)

    org_max_lkl_sdg_only = []

    org_max_lkl_sdg_only = np.array(org_max_lkl_sdg_only)


    org_max_lkl = []
    org_max_lkl = np.array(org_max_lkl)

    org_max_lkl_amr_sdg_zero = [
          ]
    org_max_lkl_amr_sdg_zero = np.array(org_max_lkl_amr_sdg_zero)

    mmd = []
    mmd = np.array(mmd)

    mmd_amr_sdg_zero = [
          ]
    mmd_amr_sdg_zero = np.array(mmd_amr_sdg_zero)

    mmd_amr = [
               [
                    0.24074074074074076,
                    0.32131147540983607,
                    0.21311475409836064,
                    0.271523178807947,
                    0.25225225225225223,
                    0.2191780821917808,
                    0.25280898876404495,
                    0.21325648414985593,
                    0.2639593908629441,
                    0.26625386996904027,
                    0.25139664804469275,
                    0.22459893048128343,
                    0.30864197530864196,
                    0.20485175202156333,
                    0.2558746736292428,
                    0.2458100558659218,
                    0.2459546925566343,
                    0.26586102719033233,
                    0.23157894736842105,
                    0.29787234042553196,
                    0.23157894736842105,
                    0.30573248407643305,
                    0.24242424242424246,
                    0.24731182795698925,
                    0.26973684210526316
               ],
               [
                    0.6666666666666666,
                    0.4615384615384615,
                    0.5,
                    0.2,
                    0.6666666666666666,
                    0.0,
                    0.3333333333333333,
                    0.7272727272727272,
                    0.2222222222222222,
                    0.4444444444444445,
                    0.5454545454545454,
                    0.5454545454545454,
                    0.7272727272727272,
                    0.22222222222222224,
                    0.4,
                    0.4,
                    0.4,
                    0.18181818181818182,
                    0.4,
                    0.5,
                    0.6666666666666665,
                    0.4615384615384615,
                    0.4000000000000001,
                    0.28571428571428575,
                    0.25
               ],
               [
                    0.28571428571428575,
                    0.25,
                    0.3333333333333333,
                    0.0,
                    0.0,
                    0.28571428571428575,
                    0.28571428571428575,
                    0.5714285714285715,
                    0.5714285714285715,
                    0.25,
                    0.4444444444444444,
                    0.3333333333333333,
                    0.5714285714285715,
                    0.28571428571428575,
                    0.0,
                    0.4,
                    0.6666666666666666,
                    0.4444444444444445,
                    0.25,
                    0.5714285714285715,
                    0.25,
                    0.5714285714285715,
                    0.4,
                    0.28571428571428575,
                    0.22222222222222224
               ],
               [
                    0.3571428571428571,
                    0.30769230769230776,
                    0.3529411764705882,
                    0.4761904761904762,
                    0.40816326530612246,
                    0.3829787234042553,
                    0.3636363636363636,
                    0.3333333333333333,
                    0.3243243243243243,
                    0.30303030303030304,
                    0.35000000000000003,
                    0.3684210526315789,
                    0.21621621621621623,
                    0.4571428571428572,
                    0.37837837837837834,
                    0.38095238095238093,
                    0.26315789473684204,
                    0.4186046511627907,
                    0.22222222222222224,
                    0.46153846153846156,
                    0.42105263157894735,
                    0.38095238095238093,
                    0.3,
                    0.375,
                    0.16666666666666669
               ],
               [
                    0.2645161290322581,
                    0.27184466019417475,
                    0.2756183745583039,
                    0.24281150159744408,
                    0.2532467532467532,
                    0.2727272727272727,
                    0.30434782608695654,
                    0.27609427609427606,
                    0.29936305732484075,
                    0.26578073089701,
                    0.23841059602649006,
                    0.32542372881355935,
                    0.2925170068027211,
                    0.2977099236641222,
                    0.24918032786885247,
                    0.2941176470588235,
                    0.264026402640264,
                    0.33210332103321033,
                    0.2580645161290323,
                    0.2547770700636943,
                    0.3082191780821918,
                    0.2962962962962963,
                    0.26936026936026936,
                    0.28930817610062887,
                    0.2645161290322581
               ],
               [
                    0.0,
                    0.2857142857142857,
                    0.0,
                    0.25,
                    0.0,
                    0.25,
                    0.0,
                    0.0,
                    0.25,
                    0.0,
                    0.33333333333333337,
                    0.2857142857142857,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.25,
                    0.0,
                    0.2857142857142857,
                    0.0,
                    0.25,
                    0.0,
                    0.0,
                    0.2857142857142857,
                    0.33333333333333337
               ],
               [
                    0.34285714285714286,
                    0.25,
                    0.4571428571428572,
                    0.37037037037037035,
                    0.4166666666666667,
                    0.24,
                    0.3870967741935483,
                    0.29411764705882354,
                    0.4324324324324324,
                    0.3333333333333333,
                    0.42424242424242425,
                    0.37037037037037035,
                    0.2777777777777778,
                    0.3684210526315789,
                    0.358974358974359,
                    0.43749999999999994,
                    0.3225806451612903,
                    0.38095238095238093,
                    0.41379310344827586,
                    0.28571428571428575,
                    0.3870967741935483,
                    0.45161290322580644,
                    0.3703703703703704,
                    0.2777777777777778,
                    0.29411764705882354
               ],
               [
                    0.24708624708624707,
                    0.2352941176470588,
                    0.2694063926940639,
                    0.23419203747072598,
                    0.26595744680851063,
                    0.3037974683544304,
                    0.24821002386634847,
                    0.29508196721311475,
                    0.24170616113744076,
                    0.29556650246305416,
                    0.21461187214611874,
                    0.2700228832951945,
                    0.2385321100917431,
                    0.24078624078624078,
                    0.2781065088757396,
                    0.23555555555555555,
                    0.25688073394495414,
                    0.2679900744416873,
                    0.22935779816513757,
                    0.245,
                    0.2550335570469799,
                    0.2566585956416465,
                    0.2836879432624113,
                    0.21647058823529414,
                    0.2457831325301205
               ],
               [
                    0.42857142857142855,
                    0.37209302325581395,
                    0.4230769230769231,
                    0.40740740740740733,
                    0.372093023255814,
                    0.3181818181818182,
                    0.47058823529411764,
                    0.3913043478260869,
                    0.3076923076923077,
                    0.4,
                    0.4,
                    0.4583333333333333,
                    0.425531914893617,
                    0.3137254901960784,
                    0.33962264150943394,
                    0.26315789473684204,
                    0.4166666666666667,
                    0.37288135593220334,
                    0.28571428571428575,
                    0.4150943396226415,
                    0.4210526315789474,
                    0.36000000000000004,
                    0.372093023255814,
                    0.375,
                    0.38461538461538464
               ],
               [
                    0.3827160493827161,
                    0.2993197278911564,
                    0.35220125786163525,
                    0.33749999999999997,
                    0.27586206896551724,
                    0.45751633986928103,
                    0.3522012578616352,
                    0.4065040650406504,
                    0.3309352517985612,
                    0.423841059602649,
                    0.32812499999999994,
                    0.29850746268656714,
                    0.4,
                    0.35000000000000003,
                    0.3424657534246575,
                    0.302158273381295,
                    0.34246575342465757,
                    0.3096774193548387,
                    0.32857142857142857,
                    0.3529411764705882,
                    0.2900763358778626,
                    0.39215686274509803,
                    0.4102564102564103,
                    0.402439024390244,
                    0.3410852713178295
               ],
               [
                    1.0,
                    0.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    0.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    0.6666666666666666,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    0.6666666666666666,
                    1.0,
                    1.0,
                    1.0,
                    1.0
               ]
          ]
    mmd_amr = np.array(mmd_amr)
    #
    mmd_sdg = []
    mmd_sdg = np.array(mmd_sdg)
    #

    kl_kd_amr = []
    kl_kd_amr = np.array(kl_kd_amr)

    kl_kd_sdg = []
    kl_kd_sdg = np.array(kl_kd_sdg)

    kl_kd = []
    kl_kd = np.array(kl_kd)

    positive_label_perc = []

    positive_label_perc = np.array(positive_label_perc)

    #
    train_test_div_amr = [
          [
               0.005348984617739916,
               0.005124833434820175,
               0.005045594647526741,
               0.005204484798014164,
               0.00539235258474946,
               0.0054697387386113405,
               0.005422926042228937,
               0.005080218892544508,
               0.005111044738441706,
               0.005236240103840828,
               0.00537362415343523,
               0.005349335726350546,
               0.0054491744376719,
               0.005294425413012505,
               0.00523857306689024,
               0.0053379228338599205,
               0.005026914179325104,
               0.004897113889455795,
               0.005402244161814451,
               0.00518674124032259,
               0.005205709487199783,
               0.005285560619086027,
               0.005002871155738831,
               0.004796966910362244,
               0.005298177246004343
          ],
          [
               0.035251517314463854,
               0.034351490903645754,
               0.032652939669787884,
               0.03350060433149338,
               0.034723748452961445,
               0.03476628242060542,
               0.03238579584285617,
               0.03435623273253441,
               0.03339941566810012,
               0.03310815338045359,
               0.03393196873366833,
               0.03452835883945227,
               0.032398045528680086,
               0.030896479729562998,
               0.03001955058425665,
               0.03377038659527898,
               0.030934200156480074,
               0.03353484394028783,
               0.033852449618279934,
               0.03313604695722461,
               0.03373986529186368,
               0.03403550572693348,
               0.034795637242496014,
               0.03457843977957964,
               0.03321314277127385
          ],
          [
               0.02658462687395513,
               0.02419542707502842,
               0.026775676291435957,
               0.02856412506662309,
               0.028985394746996462,
               0.025847575860098004,
               0.022807246074080467,
               0.02955985232256353,
               0.02773091080598533,
               0.02455557882785797,
               0.025958008132874966,
               0.026603008154779673,
               0.027298279805108905,
               0.028252395568415523,
               0.028492026031017303,
               0.025546514196321368,
               0.027518195565789938,
               0.024073103442788124,
               0.026120028807781637,
               0.023911116179078817,
               0.0232438868843019,
               0.030390452360734344,
               0.02950451208744198,
               0.02410515584051609,
               0.02831487380899489
          ],
          [
               0.01374525809660554,
               0.013748378958553076,
               0.014457198791205883,
               0.015437405556440353,
               0.01655328180640936,
               0.015728597529232502,
               0.014070591889321804,
               0.01471432950347662,
               0.01324819354340434,
               0.017581411637365818,
               0.016692666336894035,
               0.016619617119431496,
               0.01510420348495245,
               0.015409543178975582,
               0.013793131802231073,
               0.014016395434737206,
               0.012968499213457108,
               0.014450524933636189,
               0.013625023420900106,
               0.016151719726622105,
               0.015959804877638817,
               0.016659707762300968,
               0.01293532457202673,
               0.013369755819439888,
               0.015367975924164057
          ],
          [
               0.0041054654866456985,
               0.004339576233178377,
               0.0038817962631583214,
               0.004114227369427681,
               0.0036890720948576927,
               0.003838782198727131,
               0.004502445459365845,
               0.0038232016377151012,
               0.0035186982713639736,
               0.004306374117732048,
               0.003770474810153246,
               0.005226082168519497,
               0.0042375847697257996,
               0.004319549538195133,
               0.005073382519185543,
               0.005795320495963097,
               0.004236629232764244,
               0.0040192995220422745,
               0.0035842498764395714,
               0.0038196570239961147,
               0.004511850420385599,
               0.0040091476403176785,
               0.004263031296432018,
               0.004457904025912285,
               0.004295377992093563
          ],
          [
               0.061582038179039955,
               0.06816032156348228,
               0.06458840519189835,
               0.06632380001246929,
               0.058447398245334625,
               0.07107919082045555,
               0.060325466096401215,
               0.06659658811986446,
               0.06667388789355755,
               0.070342767983675,
               0.06091492623090744,
               0.061653902754187584,
               0.06756091304123402,
               0.05279978830367327,
               0.05719873122870922,
               0.061993520706892014,
               0.06398416683077812,
               0.06654408946633339,
               0.06238238885998726,
               0.05702319089323282,
               0.07706266641616821,
               0.06169406697154045,
               0.06823738850653172,
               0.07815307565033436,
               0.05529636982828379
          ],
          [
               0.012318325228989124,
               0.01426064781844616,
               0.017556854523718357,
               0.012863602954894304,
               0.013913372531533241,
               0.012326921336352825,
               0.014102143235504627,
               0.013794423080980778,
               0.011929688509553671,
               0.015658512711524963,
               0.013512767851352692,
               0.012903932482004166,
               0.015193603932857513,
               0.012866667471826077,
               0.014586454257369041,
               0.012443278916180134,
               0.014587066136300564,
               0.011990354396402836,
               0.014241788536310196,
               0.010678861755877733,
               0.01474669761955738,
               0.011519609484821558,
               0.013880443759262562,
               0.012968598864972591,
               0.013824793510138988
          ],
          [
               0.0031887958757579327,
               0.003319201059639454,
               0.0032346616499125957,
               0.00310750724747777,
               0.0032582799904048443,
               0.003184072207659483,
               0.003305243793874979,
               0.0034140627831220627,
               0.0031588543206453323,
               0.0033058905974030495,
               0.003087250981479883,
               0.0033811256289482117,
               0.003220556303858757,
               0.0035719769075512886,
               0.0033858632668852806,
               0.0032605454325675964,
               0.0033965036273002625,
               0.0033291433937847614,
               0.003340244758874178,
               0.003421645611524582,
               0.003131740726530552,
               0.0035061747767031193,
               0.003331921063363552,
               0.003250453621149063,
               0.003368975594639778
          ],
          [
               0.013471354730427265,
               0.014212559442967176,
               0.013800978660583496,
               0.012050642631947994,
               0.012647366151213646,
               0.012392999604344368,
               0.013279419858008623,
               0.012462417595088482,
               0.013875624630600214,
               0.012258266098797321,
               0.01395871164277196,
               0.013032424729317427,
               0.012521343305706978,
               0.013562273234128952,
               0.012701015919446945,
               0.012675512582063675,
               0.014780108816921711,
               0.013243143912404776,
               0.013007349334657192,
               0.012952601537108421,
               0.012450402602553368,
               0.013376995921134949,
               0.01435202406719327,
               0.012645983137190342,
               0.012681124731898308
          ],
          [
               0.006917904131114483,
               0.007205737754702568,
               0.0071900757029652596,
               0.007198089733719826,
               0.007331762462854385,
               0.007470386568456888,
               0.007655030582100153,
               0.0071020834147930145,
               0.007751806173473597,
               0.007661471609026194,
               0.007366531062871218,
               0.0077954246662557125,
               0.00737484497949481,
               0.007203593850135803,
               0.007516737561672926,
               0.00749032199382782,
               0.007120194379240274,
               0.007429089862853289,
               0.007494927849620581,
               0.006978461053222418,
               0.007514615543186665,
               0.006886281073093414,
               0.00722759822383523,
               0.00716885132715106,
               0.007627082988619804
          ],
          [
               0.11195048224180937,
               0.12140840874053538,
               0.09648259542882442,
               0.11577482055872679,
               0.10862006712704897,
               0.11133348196744919,
               0.12237338675186038,
               0.1053225421346724,
               0.10979859810322523,
               0.11723089101724327,
               0.10666014719754457,
               0.10401994781568646,
               0.09964905260130763,
               0.1109382538124919,
               0.09842728497460485,
               0.1233247232157737,
               0.11385348066687584,
               0.11286832625046372,
               0.10956737725064158,
               0.10491040674969554,
               0.10943730873987079,
               0.12470626970753074,
               0.12135929381474853,
               0.1179110649973154,
               0.1092852265574038
          ]
     ]
    train_test_div_amr = np.array(train_test_div_amr)

    train_test_div_sdg = []
    train_test_div_sdg = np.array(train_test_div_sdg)

    train_test_div = []
    train_test_div = np.array(train_test_div)
    #
    #
    x = 4*np.arange(train_test_div_amr.shape[0])
    width = 0.7
    e = 1e-2
    plots_list = []
    #
    shift = 0
    curr_plot = plt.bar(x+shift, org_max_lkl_amr_only.mean(1), color='c', width=width, label='org max lkl (amr)', yerr=org_max_lkl_amr_only.std(1))
    plots_list.append(curr_plot)
    shift += width
    curr_plot = plt.bar(x+shift, mmd_amr.mean(1), color='b', width=width, label='mmd (amr)', yerr=mmd_amr.std(1))
    plots_list.append(curr_plot)
    #
    plt.ylabel('F1 Score')
    plt.xlabel('PubMed Articles on Cancer Research')
    plt.title('Abstract Meaning Representations')
    #
    plt.legend(handles=plots_list, loc=2, prop={'size':6})
    #
    plt.savefig('./validation_plots_nd_text_output/summary/amr_f1.pdf', dpi=300, format='pdf')
    #
    #
    plt.close()
    # #
    train_test_div_amr = train_test_div_amr.flatten()
    mmd_amr = mmd_amr.flatten()
    org_max_lkl_amr_only = org_max_lkl_amr_only.flatten()
    #
    min_ttd = train_test_div_amr.min()
    max_ttd = train_test_div_amr.max()
    ttd_step = 0.0075
    ttd_smooth = []
    mmd_amr_mean = []
    mmd_amr_std = []
    org_max_lkl_amr_only_mean = []
    org_max_lkl_amr_only_std = []
    for curr_ttd in np.arange(min_ttd, max_ttd, ttd_step):
        curr_idx_i = np.where((curr_ttd+ttd_step) >= train_test_div_amr)
        curr_idx_j = np.where(train_test_div_amr >= curr_ttd)
        curr_idx = np.intersect1d(curr_idx_i, curr_idx_j)
        curr_idx_i = None
        curr_idx_j = None
        #
        if curr_idx.size == 0:
            continue
        #
        curr_ttd_list = train_test_div_amr[curr_idx]
        ttd_smooth.append(curr_ttd_list.mean())
        #
        curr_mmd_amr_list = mmd_amr[curr_idx]
        mmd_amr_mean.append(curr_mmd_amr_list.mean())
        mmd_amr_std.append(curr_mmd_amr_list.std())
        #
        curr_org_max_lkl_amr_list = org_max_lkl_amr_only[curr_idx]
        org_max_lkl_amr_only_mean.append(curr_org_max_lkl_amr_list.mean())
        org_max_lkl_amr_only_std.append(curr_org_max_lkl_amr_list.std())
    #
    print 'ttd_smooth', ttd_smooth
    print 'mmd_amr_mean', mmd_amr_mean
    print 'mmd_amr_std', mmd_amr_std
    #
    plt.xlabel('Train-Test Maximum Mean Discrepancy')
    plt.ylabel('F1 Score')
    plt.title('Abstract Meaning Representations')
    # plt.ylim(-1, 1.1)
    plt.errorbar(ttd_smooth, org_max_lkl_amr_only_mean, yerr=org_max_lkl_amr_only_std, fmt='rx-')
    plt.hold(True)
    plt.errorbar(ttd_smooth, mmd_amr_mean, yerr=mmd_amr_std, fmt='b+-')
    plt.savefig('./validation_plots_nd_text_output/summary/amr_f1_train_test_div__mmd_amr.pdf', dpi=300, format='pdf')
    plt.close()
    #
